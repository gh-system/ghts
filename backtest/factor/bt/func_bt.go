package bt

func F백테스트_실행[T팩터 T팩터_데이터, T재무 T재무_데이터](전략_인수 I전략_인수[T팩터, T재무]) {
	전략_실행기 := New전략_실행기(전략_인수)
	데이터_처리기 := 전략_인수.G데이터_처리기()
	포트폴리오 := 전략_인수.G포트폴리오()

	for _, 일자 := range 데이터_처리기.G영업일_모음() {
		for _, 가격구분 := range []T가격_구분{P시가, P저가, P고가, P종가} {
			데이터_처리기.(I데이터_처리기_백테스트_전용).S준비(일자, 가격구분)
			포트폴리오.(I포트폴리오_백테스트_전용).S준비(일자, 가격구분)
			전략_실행기.G실행()
			포트폴리오.(I포트폴리오_백테스트_전용).S일일_결산()
		}
	}
}
